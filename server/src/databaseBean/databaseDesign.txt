CREATE TABLE IF NOT EXISTS SHORT_URL (
    id INT AUTO_INCREMENT PRIMARY KEY,
    originalUrl TEXT NOT NULL,
    shortId VARCHAR(50) NOT NULL UNIQUE,
    createdAt DATETIME DEFAULT CURRENT_TIMESTAMP,
    expires_at DATETIME DEFAULT NULL,
    clickCount INT DEFAULT 0,
    createdBy VARCHAR(50)
);

CREATE TABLE IF NOT EXISTS ACCESS_LOGS (
    id INT AUTO_INCREMENT PRIMARY KEY,
    short_url_id INT NOT NULL,
    access_time DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    ip_address VARCHAR(45) DEFAULT NULL,
    user_agent TEXT DEFAULT NULL,
    FOREIGN KEY (short_url_id) REFERENCES SHORT_URL(id) ON DELETE CASCADE
);


CREATE TABLE USERS (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL,
    password VARCHAR(150) NOT NULL,
	userType VARCHAR(20) NOT NULL,
    createdAt DATETIME DEFAULT CURRENT_TIMESTAMP
);